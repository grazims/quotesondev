jQuery(document).ready(()=>{jQuery("#another").on("click",function(e){e.preventDefault(),jQuery.ajax({method:"GET",cache:!1,url:red_vars.rest_url+"wp/v2/posts?_embed=true&filter[orderby]=rand&filter[posts_per_page]=1",data:{comment_status:"closed"},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",red_vars.wpapi_nonce)}}).done(function(e){history.pushState(null,null,e[0].slug);for(let r=0;r<e.length;r++)jQuery("article").empty().append(`\n            <p>${e[r].content.rendered}</p>\n            <h3> - ${e[r].title.rendered}\n            ${e[r]._qod_quote_source_url&&`,\n            <a href="${e[r]._qod_quote_source_url}"> ${e[r]._qod_quote_source}</a></h3>\n           `}`)})})}),jQuery("#submit").on("click",function(e){e.preventDefault();let r={title:jQuery(".author").val(),content:jQuery(".quote").val(),source:jQuery(".source").val(),source_url:jQuery(".url").val(),status:"pending"},t=red_vars.rest_url+"wp/v2/posts/";jQuery.ajax({method:"POST",cache:!1,url:t,dataType:"json",data:r,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",red_vars.wpapi_nonce)}}).done(function(){jQuery(".form").hide(),jQuery(".site-main").hide(),jQuery(".form-section").append("<h1> Thank you for your submission!</h1>")}).fail(function(){jQuery(".form").hide(),jQuery(".site-main").hide(),jQuery(".form-section").append("<h1> Ops, something went wrong!</h1>")})});