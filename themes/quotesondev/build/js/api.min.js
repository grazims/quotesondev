jQuery(document).ready(()=>{jQuery("#another").on("click",function(e){e.preventDefault(),jQuery.ajax({method:"GET",cache:!1,url:red_vars.rest_url+"wp/v2/posts?_embed=true&filter[orderby]=rand&filter[posts_per_page]=1",data:{comment_status:"closed"},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",red_vars.wpapi_nonce)}}).done(function(e){history.pushState(null,null,e[0].slug);for(let t=0;t<e.length;t++)jQuery("article").empty().append(`\n            <p>${e[t].content.rendered}</p>\n            <h3> - ${e[t].title.rendered}\n            ${e[t]._qod_quote_source_url&&`,\n            <a href="${e[t]._qod_quote_source_url}"> ${e[t]._qod_quote_source}</a></h3>\n           `}`)})})}),jQuery("#submit").on("click",function(e){e.preventDefault();const t=jQuery("#title").val(),r=jQuery("#quote-content").val(),n=jQuery("#url").val(),o=jQuery("#urlSource").val();console.log(t,r,n,o),jQuery.ajax({method:"POST",url:red_vars.rest_url+"wp/v2/posts",data:{title:t,content:r,_qod_quote_source:n,_qod_quote_source_url:o,status:"pending"},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",red_vars.wpapi_nonce)}}).done(function(){jQuery("form").val("")}).fail(function(){jQuery("form").append('<p class="failure">Quote not submitted. Refresh the page and try again</p>')})});